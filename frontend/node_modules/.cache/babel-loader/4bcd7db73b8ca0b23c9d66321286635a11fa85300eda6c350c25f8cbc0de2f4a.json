{"ast":null,"code":"import _regeneratorRuntime from\"/Users/karthik/Desktop/Code/Richpanel/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/karthik/Desktop/Code/Richpanel/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/karthik/Desktop/Code/Richpanel/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{SelectedDetailsState}from\"../Context/SelectedDetails\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SelectionPage=function SelectionPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),plans=_useState2[0],setPlans=_useState2[1];var _SelectedDetailsState=SelectedDetailsState(),user=_SelectedDetailsState.user,period=_SelectedDetailsState.period,setPeriod=_SelectedDetailsState.setPeriod,selectedPlan=_SelectedDetailsState.selectedPlan,setSelectedPlan=_SelectedDetailsState.setSelectedPlan;var navigate=useNavigate();var fetchPlans=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;config={headers:{Authorization:\"Bearer \".concat(user.token)}};_context.next=4;return axios.get(\"user/plans?period=\".concat(period),config).then(function(_ref2){var data=_ref2.data;setPlans(data);});case 4:_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function fetchPlans(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchPlans(period);},[period,user]);return/*#__PURE__*/_jsx(\"div\",{className:\"container flex flexCenter\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box flexCol selectionPage flexCenter\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading bold larger\",children:\"Choose the right plan for you\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flexCol\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tabs flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex tabList flexCenter\",children:[/*#__PURE__*/_jsx(\"button\",{className:period===\"Montly\"?\"tab selected\":\"tab\",onClick:function onClick(){setPeriod(\"Montly\");},children:\"Montly\"}),/*#__PURE__*/_jsx(\"button\",{className:period===\"Yearly\"?\"tab selected\":\"tab\",onClick:function onClick(){setPeriod(\"Yearly\");},children:\"Yearly\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tableData fill underline\",children:\"Montly price\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tableData fill underline\",children:\"Video Quality\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tableData fill underline\",children:\"Resolution\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tableData fill\",children:\"Devices you can use to watch\"})]}),plans.map(function(plan,id){return/*#__PURE__*/_jsxs(\"div\",{className:selectedPlan?selectedPlan.name===plan.name?\"flexCol textCenter fill\":\"flexCol textCenter opac\":\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tableHeading flexCol flexCenter\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"tableHeadingData flex flexCenter blueButton\",onClick:function onClick(){setSelectedPlan(plan);},children:plan.name}),/*#__PURE__*/_jsx(\"div\",{className:\"down-arrow\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tableData underline\",children:plan.price}),/*#__PURE__*/_jsx(\"div\",{className:\"tableData underline\",children:plan.quality}),/*#__PURE__*/_jsx(\"div\",{className:\"tableData underline\",children:plan.resolution}),/*#__PURE__*/_jsx(\"div\",{children:plan.devices.map(function(device,id){return/*#__PURE__*/_jsx(\"div\",{className:\"tableData textCenter\",children:device},id);})})]},id);})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submit blueButton textCenter\",onClick:function onClick(){navigate(\"/payment\");},children:\"Next\"})]})});};export default SelectionPage;","map":{"version":3,"names":["React","axios","SelectedDetailsState","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","SelectionPage","_useState","_useState2","_slicedToArray","plans","setPlans","_SelectedDetailsState","user","period","setPeriod","selectedPlan","setSelectedPlan","navigate","fetchPlans","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","wrap","_callee$","_context","prev","next","headers","Authorization","concat","token","get","then","_ref2","data","t0","console","log","stop","apply","arguments","className","children","onClick","map","plan","id","name","price","quality","resolution","devices","device"],"sources":["/Users/karthik/Desktop/Code/Richpanel/frontend/src/Pages/SelectionPage.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { SelectedDetailsState } from \"../Context/SelectedDetails\";\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst SelectionPage = () => {\n  const [plans, setPlans] = useState([]);\n  const { user, period, setPeriod, selectedPlan, setSelectedPlan } =\n  SelectedDetailsState();\n  \n  const navigate = useNavigate();\n  const fetchPlans = async () => {\n    try {\n      const config = {\n        headers: {\n          Authorization: `Bearer ${user.token}`,\n        },\n      };\n      await axios\n        .get(`user/plans?period=${period}`, config)\n        .then(({ data }) => {\n          setPlans(data);\n        });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchPlans(period);\n  },[period,user]);\n\n\n  return (\n    <div className=\"container flex flexCenter\">\n      <div className=\"box flexCol selectionPage flexCenter\">\n        <div className=\"heading bold larger\">Choose the right plan for you</div>\n        <div className=\"flex\">\n          <div className=\"flexCol\">\n            <div className=\"tabs flex\">\n              <div className=\"flex tabList flexCenter\">\n                <button\n                  className={period === \"Montly\" ? \"tab selected\" : \"tab\"}\n                  onClick={() => {\n                    setPeriod(\"Montly\");\n                  }}\n                >\n                  Montly\n                </button>\n                <button\n                  className={period === \"Yearly\" ? \"tab selected\" : \"tab\"}\n                  onClick={() => {\n                    setPeriod(\"Yearly\");\n                  }}\n                >\n                  Yearly\n                </button>\n              </div>\n            </div>\n\n            <div className=\"tableData fill underline\">Montly price</div>\n            <div className=\"tableData fill underline\">Video Quality</div>\n            <div className=\"tableData fill underline\">Resolution</div>\n            <div className=\"tableData fill\">Devices you can use to watch</div>\n          </div>\n          {plans.map((plan, id) => {\n            return (\n              <div\n                className={\n                  selectedPlan\n                    ? selectedPlan.name === plan.name\n                      ? \"flexCol textCenter fill\"\n                      : \"flexCol textCenter opac\"\n                    : \"\"\n                }\n                key={id}\n              >\n                <div className=\"tableHeading flexCol flexCenter\">\n                  <button\n                    className=\"tableHeadingData flex flexCenter blueButton\"\n                    onClick={() => {\n                      setSelectedPlan(plan);\n                    }}\n                  >\n                    {plan.name}\n                  </button>\n                  <div className=\"down-arrow\"></div>\n                </div>\n                <div className=\"tableData underline\">{plan.price}</div>\n                <div className=\"tableData underline\">{plan.quality}</div>\n                <div className=\"tableData underline\">{plan.resolution}</div>\n                <div>\n                  {plan.devices.map((device, id) => {\n                    return (\n                      <div className=\"tableData textCenter\" key={id}>\n                        {device}\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        <button\n          className=\"submit blueButton textCenter\"\n          onClick={() => {\n            navigate(\"/payment\");\n          }}\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default SelectionPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}