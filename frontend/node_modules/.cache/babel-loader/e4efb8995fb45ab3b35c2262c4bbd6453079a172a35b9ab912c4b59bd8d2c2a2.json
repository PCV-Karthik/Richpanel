{"ast":null,"code":"import _regeneratorRuntime from\"/Users/karthik/Desktop/Code/Richpanel/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/karthik/Desktop/Code/Richpanel/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/karthik/Desktop/Code/Richpanel/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{SelectedDetailsState}from\"../Context/SelectedDetails\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _SelectedDetailsState=SelectedDetailsState(),user=_SelectedDetailsState.user,setUser=_SelectedDetailsState.setUser;var navigate=useNavigate();useEffect(function(){localStorage.clear();},[]);var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!email||!password)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;config={headers:{\"Content-type\":\"application/json\"}};_context.next=6;return axios.post(\"/user/login\",{email:email,password:password},config).then(function(_ref2){var data=_ref2.data;localStorage.setItem(\"userInfo\",JSON.stringify(data));setUser(data);navigate(\"/selection\");});case 6:_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[2,8]]);}));return function submitHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container flex flexCenter\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box flexCol loginPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading bold larger textCenter\",children:\"Login into your account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input flexCol\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter your email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input flexCol\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"submit blueButton\",onClick:submitHandler,children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"link\",children:[\"New to MyApp?\",\" \",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Sign Up\"}),\" \"]})]})]})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","useNavigate","SelectedDetailsState","jsx","_jsx","jsxs","_jsxs","LoginPage","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_SelectedDetailsState","user","setUser","navigate","localStorage","clear","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","wrap","_callee$","_context","prev","next","abrupt","headers","post","then","_ref2","data","setItem","JSON","stringify","t0","console","log","stop","apply","arguments","className","children","htmlFor","type","placeholder","value","onChange","e","target","onClick","to"],"sources":["/Users/karthik/Desktop/Code/Richpanel/frontend/src/Pages/LoginPage.js"],"sourcesContent":["import React from \"react\";\nimport { useState,useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { SelectedDetailsState } from \"../Context/SelectedDetails\";\n\nconst LoginPage = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { user, setUser } = SelectedDetailsState();\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    localStorage.clear();\n  }, [])\n  \n\n  const submitHandler = async () => {\n    if (!email || !password) {\n      return;\n    }\n\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      };\n      await axios\n        .post(\n          \"/user/login\",\n          {\n            email,\n            password,\n          },\n          config\n        )\n        .then(({data}) => {\n          localStorage.setItem(\"userInfo\",JSON.stringify(data)\n          );\n          setUser(data);\n          navigate(\"/selection\");\n        });\n\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"container flex flexCenter\">\n      <div className=\"box flexCol loginPage\">\n        <div className=\"heading bold larger textCenter\">\n          Login into your account\n        </div>\n        <div className=\"input flexCol\">\n          <label htmlFor=\"email\">Email</label>\n          <input\n            type=\"email\"\n            placeholder=\"Enter your email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div className=\"input flexCol\">\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            placeholder=\"Enter your Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <button className=\"submit blueButton\" onClick={submitHandler}>\n          Login\n        </button>\n        <div className=\"link\">\n          New to MyApp?{\" \"}\n          <span>\n            {\" \"}\n            <Link to=\"/\">Sign Up</Link>{\" \"}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}